---
title: 区块链技术概述 - 10分钟了解区块链技术重点
description: 简单介绍区块链技术，探究区块链技术重点
categories:
 - 区块链
 - 10分钟快速上手
tags:
---

# 引言

中心化交易模式是传统生活中我们一直奉行的模式，无论是通过银行转账，或是通过支付宝在淘宝交易，其实质都只是价值符号在中心机构数据库中的改变。中心化交易模式有很多好处，但是也有很多不足。试想下列情况：

* A和B要进行一次交易，A将钱通过C付给B。C在A付钱后告诉A没有这笔交易(赖账)

* A将钱存到了B处，B随意改动数据库，将A的余额修改了

除了中心化交易模式之外，还有一些现实生活中遇到的问题：

* A和B签了一份合同，B私自修改了合同内容

* A是B的供应商，提供材料后B没有按时付款

以上的情况在生活中非常常见，现行的中心化交易模式无法避免信任问题。而区块链技术，就是为了解决以上问题而提出的。它更多的是一种思想，一种结合了算法和设计模式的技术，与编程语言没有关系。

# 区块链的发展

区块链虽然还是一个很新的技术，但发展到今天，大致已经可以被分成三代：

* 区块链1.0

    数字货币

* 区块链2.0

    数字资产与智能合约

* 区块链3.0

    DAO(区块链自洽组织)、 DAC(区块链自治公司)、 区块链大社会（科学、医疗、教育ETC、区块链+人工智能）

区块链发展到今天，已经有了以下特性：
1. 去中心化
2. 开放性
3. 自治性
4. 信息不可篡改
5. 匿名性

到今天为止，区块链技术仍然在日新月异的发展，因此以上特性并非不变。即使区块链技术被最终证明为不可行，不会被大规模运用，其独特的去中性化设计思想也值得学习，像Java设计模式被运用到其他语言中一样运用到其他领域中。

# 区块链技术概述

从现行区块链技术中可以抽取出以下共同点，大致可以将其视为区块链的定义（现在没有标准定义）：

1. 区块链是一个放在非安全环境中的分布式数据库(系统)
2. 区块链采用密码学方式保证已有数据不被篡改
3. 区块链采用共识算法来对新增数据达成共识

根据该定义，笔者整理了一份思维导图

//TODO 图片

## 区块链是一个放在非安全环境中的分布式数据库(系统)

在区块链技术的设计理念中，**非安全环境**与**分布式数据库**都是很重要的一个环节。用比特币举例，它是一个完全去中心化的系统，并且放在一个非安全的环境，不要求所有使用比特币的人都没有恶意。

### 非安全环境

区块链是一个去中心化、分布式的系统，并且默认所有的节点都是不安全而且可能带有恶意的。在设计区块链系统时，必须要有分布式意识，并且防范节点的不可靠、恶意攻击。

### 分布式数据库(系统)

现有的区块链技术都是基于数据的处理展开的。因此从本质上来看，区块链就是个分布式数据库。存储的数据一般有以下几种：

1. 数据完全不相关，只是达成的共识，没有有效与无效之分
2. 数据有一定的逻辑结构
3. 数据拥有图灵完备的逻辑

第一种情况下，各个节点只是单纯的存储数据。

第二种情况，如账本，交易数据至少拥有输入、输出、金额这三种属性，各节点在处理该类数据时，需要判断输出端金额是否足够。*比特币*使用的就是该技术。

第三种情况下，节点需要对数据真实性进行验证，对存储行为(如交易)是否满足数据逻辑进行判断，还需要进行一定的业务逻辑处理。*以太坊*就可以看作使用了这类数据，同时**智能合约**就是使用的该类数据。

## 采用密码学方式来保证已有数据不能被篡改

<!-- 
    写作思路：
    首先介绍区块链头部信息，前一个区块的Hash包含在后一个区块中，防止信息被篡改
    然后区块是如何使用哈希算法来进行包裹的

    介绍区块的组成
    区块链使用哈希算法来保证自身不被篡改
    交易是如何使用树来保证自身不被篡改的

    哈希算法是什么
    这样面临的攻击风险(区块链分叉)
 -->

//图：区块链的区块头组成

图中是一般区块链的内容。可以看出，区块链由多个区块按顺序连接而成，每一个区块都包含上一个区块尾部的Hash值，而该Hash值则是使用哈希函数来对区块链本身的内容进行计算得出的，以此来保证区块中的内容不被篡改。

除了运用哈希函数来保证区块内容不被篡改之外，区块链技术往往还用了非对称加密技术来对数据进行签名以保证用户的隐私。

以下是对该技术的一些介绍。

### 哈希函数

哈希函数是一个数学函数 $y=H(x)$ ，有以下特性：

1. 有$x$可以算出$y$
2. 有$y$不能算出$x$
3. $y$确定后不能找出$z$使得$H(z)=y$，即使$x$和$z$相差很小，$H(x)$和$H(z)$也完全不相关

因此，哈希函数可以用作内容校验，如果内容发生了变化，那么对应的哈希值就一定会变化。区块链一般来说都是采取的这种技术来保证区块内容不被篡改。

### 非对称加密

非对称加密目前广泛应用于数据加密以及签名领域，其基本原理是通过两个密钥对数据进行加密和解密。这两个密钥分别是*公开密钥(public key)*和*私有密钥(private key)*。

* 加密

使用公开密钥(公钥)进行加密的数据，无法用公钥解开，只能用私钥解开，一般将该技术用于数据的加密传输。客户端使用公钥对数据进行加密，服务器端获取数据后再使用私钥解开。

* 签名

使用私有密钥(私钥)进行加密的数据，可以使用公钥解开，一般将该技术用于签名。服务器端使用私钥对一段数据进行加密，客户端使用公钥对该数据进行解密，以此来验证该数据是否由服务器端发送。

在区块链的实际应用中，一般使用签名来验证交易双方的身份。

## 区块链采用共识算法来对新增数据达成共识

区块链新增的数据都符合一定的条件，以使得所有区块上的数据达成统一，该条件就是共识算法。现在应用得最广泛的共识算法一般有两种：*基于BFT的共识*和*基于比特币的共识*。

### 基于BFT的共识

拜占庭容错(Byzantine Fault-Tolerant，BFT),是在解决拜占庭将军问题时被提出的理论，现在成了很多共识问题的理论基础。基于BFT提出的共识算法被大规模的运用在**联盟链**和**私有链**中。

基于BFT的共识算法应用最广泛的有以下几个：

* Paxos
* Raft
* PBFT
* DBFT

### 基于比特币的共识

基于比特币的共识算法几乎都是在比特币共识基础上的改进。比特币使用的共识算法是工作量证明POW(Proof Of Work,POW)，基于"通过工作以获得指定成果，用成果来证明曾经付出的努力"。在比特币中，即在计算新的区块时，通过使得到的HASH值小于某个特定值来人为的增加难度以证明节点付出了很大的努力。其优点是全网算力庞大时几乎不会有被攻破的风险，缺点则是这一过程造成了大量的算力浪费。现在有很多方案都基于"证明"提出了自己的改进方法。这些算法大致可以归纳为"基于比特币共识的算法"。这些共识算法被广泛应用在**公有链**领域。

基于比特币的共识算法最有名的有以下几个：

* POW
* POS
* DPOS